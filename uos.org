#+TITLE: Uos

* vncs 使用
1.在终端运行 ssh deepin@10.3.10.230
2.安装并开启 vnc：
$ sudo apt-get install x11vnc
$ sudo x11vnc -storepasswd deepin /etc/x11vnc.pass
$ sudo x11vnc -display :0 -auth /var/run/lightdm/root/:0 -forever -bg -o /var/log/x11vnc.log -rfbauth /etc/x11vnc.pass -shared -noxdamage -xrandr "resize" -rfbport 5900
* 转换 ip 为域名
/etc/hosts ip 域名
* 进程
#+BEGIN_SRC
journalctl -f
#+END_SRC
* 查找文件
#+BEGIN_SRC
find / -name filename.text   ##在全目录中查找文件 filename.text
* 文件占内存情况
#+BEGIN_SRC
du -sh /* | sort -h
#+END_SRC
* 内网仓库
deb http://10.2.10.135/uos-sw64/ eagle main contrib non-free
deb http://10.2.10.135/uos-sw64-ppa/sp1/ eagle main contrib non-free
首先 apt update
* md5
#+BEGIN_SRC
md5sum package
#+END_SRC
* 换 mate 桌面
#+BEGIN_SRC bash
$ sudo apt install task-mate-desktop lightdm-gtk-greeter
$ sudo sed 's/^greeter-session=lightdm-deepin-greeter/greeter-session=lightdm-gtk-greeter/g' /etc/lightdm/lightdm.conf -i  #换为mate
$ sudo sed 's/^greeter-session=lightdm-gtk-greeter/greeter-session=lightdm-deepin-greeter/g' /etc/lightdm/lightdm.conf -i  #换回dde
#+END_SRC
* ssh alias
#+BEGIN_SRC
**~/.ssh/config**
Host 230
     HostName 10.3.10.230
     User deepin
#+END_SRC
* 周报？
** 4.20
samba vsftp（失败
** 4.21
vnc dns vsftp（失败
** 4.22
nfs ldap
** 4.23
squid 系统运维工具 ipmi  乐新提的 bug 复现 服务应用测试中分散的用例确认 B7 版本 bug 复现
ZF 一些用例
** 4.24
按 bug 规范修改 bug 性能测试 2 条   bug 提单规范研究
** 4.26
之前的 bug 情况跟进
登陆启动器 深度应用 V20
** 4.27
深度应用 V20 结束，HI-DPI 模块待确认  文件归档
** 4.28
第三方应用 装方正系统
** 4,29
控制中心->个性化 键盘和鼠标 声音 回归测试
** 4,30
写测试报告
** 5.6
测试报告完善
** 5.7
bug 跟踪，2解决，2进行中，其中 1 服务器不同造成系统起不来，1正在解决
** 5.11
AK 测试  230 内核起不来  自定义服务器时间 bug
* bash add path
#+BEGIN_SRC bash
**~/.profile**
export PATH="$PATH:/path/to/"
source ~/.profile
#+END_SRC

#+RESULTS:

* rrk
#+BEGIN_SRC bash
准备工作桌面版：将维护底座接电源，接主板的jtag口，维护底座的网口直连维护机（自己的机器）
       服务器版：直接将维护网口与维护机直连
在维护机进行如下步骤：
$ apt install openjdk-8-jdk openjdk-8-jre   #安装java环境
$ export maint=/opt/Maintance   #设置维护环境
$ mkdir -pv $maint              #添加目录
$ chown user.group $maint       #更改维护目录所有权，一般user和group是相同的
$ tar xvf Maintance.tar.bz2 -C /opt   #解压维护脚本文件
,**~/.bashrc**      #添加path
export CLASSPATH=.:$maint/classes/2F.jar:$maint/classes/server_md.jar:$maint/classes/2F1.jar:$maint/classes/comm.jar
export PATH=$PATH:$maint/bin:$maint/bin/2f:$maint/swich
$ source ~/.bashrc
$ which rrk    #确定生成了rrk可执行文件
$ sudo ip address add dev eth0 192.168.1.5/24  #eth0根据ip a的设备名写，网段前三个根据维护网口的ip写
$ nmap -sP 192.168.1.0/24  #扫描当前网段中维护网口的ip，直连的情况下应该能扫到两个，一个维护网口，一个维护机
$ echo 192.168.1.11 bmc11 | sudo tee -a /etc/hosts #假设维护网口为192.168.1.11，bmc11为
$ ping bmc11 #测试能否ping通维护网口
$ for i in {0..15}; do echo === rrk begin $i ===; rrk bmcid $i; echo === rrk end $i ===; done  #其中的bmcid为ip的最后一位，此处为11
#+END_SRC
seafile->JDJG 事业部->技术部->知识库-学习-提升->付文强->rrk->6A 维护环境+Maintance.tar.bz2
* 删除文件系统
#+BEGIN_SRC
sudo wipefs -a /dev/sda
#+END_SRC
